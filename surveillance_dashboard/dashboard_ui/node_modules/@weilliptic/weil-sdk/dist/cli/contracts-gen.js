import path from 'path';
import fs from 'fs/promises';
const CONTRACTS_PATH = './contracts';
const parseContract = async (fileName) => {
    const fileContents = await fs.readFile(fileName, 'utf8');
    return JSON.parse(fileContents);
};
const getContractTypeDefinitions = (contract) => {
    return '';
};
const run = async () => {
    console.log('Generating contractsâ€¦');
    const files = (await fs.readdir(CONTRACTS_PATH)).filter(fileName => path.extname(fileName).toLowerCase() === '.json');
    console.log(files);
    for (const fileName of files) {
        const file = path.join(CONTRACTS_PATH, fileName);
        const stat = await fs.stat(file);
        if (stat.isFile()) {
            console.log(`Reading contract definition at ${fileName}`);
            const contractDefinition = await parseContract(file);
            // generate type definitions for contracts
            const baseName = path.basename(fileName, path.extname(fileName));
            console.log('base', baseName);
            const definitionFileName = `${baseName}.d.ts`;
            const typeDefinitions = getContractTypeDefinitions(contractDefinition);
            await fs.writeFile(path.join(CONTRACTS_PATH, definitionFileName), typeDefinitions);
        }
    }
};
run();
//# sourceMappingURL=contracts-gen.js.map
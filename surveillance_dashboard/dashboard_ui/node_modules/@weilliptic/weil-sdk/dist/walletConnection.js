import { WeilWalletCommon } from './walletCommon.js';
import axios from 'axios';
import { constructRestEndpoint } from './utils/index.js';
export class WeilWalletConnection extends WeilWalletCommon {
    config;
    constructor(options) {
        super();
        this.config = {
            ...options,
        };
    }
    async getAxiosInstance() {
        if (!this._axiosInstance) {
            const settings = await this.config.walletProvider.request({
                method: 'wallet_getSettings',
            });
            this._axiosInstance = axios.create({
                baseURL: constructRestEndpoint(settings.sentinelEndpoint),
            });
        }
        return this._axiosInstance;
    }
    async submitTransaction(params) {
        const { walletProvider } = this.config;
        return walletProvider.request({
            method: 'weil_sendTransaction',
            params: [params],
        });
    }
}
//# sourceMappingURL=walletConnection.js.map